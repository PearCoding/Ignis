mod colormap {
use super as all;

type Color = all::Color;

fn @poly6(c0: Color, c1: Color, c2: Color, c3: Color, c4: Color, c5: Color, c6: Color, t: f32) 
    = all::color_add(c0, all::color_mulf(
        all::color_add(c1, all::color_mulf(
            all::color_add(c2, all::color_mulf(
                all::color_add(c3, all::color_mulf(
                    all::color_add(c4, all::color_mulf(
                        all::color_add(c5, all::color_mulf(c6, t)),
                        t)),
                    t)),
                t)),
            t)),
        t));

// Based on https://www.shadertoy.com/view/WlfXRN
fn @viridis(t:f32) -> Color {
    let c0 = all::make_color(0.2777273272234177,  0.005407344544966578, 0.3340998053353061 , 1);
    let c1 = all::make_color(0.1050930431085774,  1.404613529898575,    1.384590162594685  , 1);
    let c2 = all::make_color(-0.3308618287255563, 0.214847559468213,    0.09509516302823659, 1);
    let c3 = all::make_color(-4.634230498983486, -5.799100973351585,  -19.33244095627987   , 1);
    let c4 = all::make_color(6.228269936347081,  14.17993336680509,    56.69055260068105   , 1);
    let c5 = all::make_color(4.776384997670288, -13.74514537774601,   -65.35303263337234   , 1);
    let c6 = all::make_color(-5.435455855934631,  4.645852612178535,   26.3124352495832    , 1);

    poly6(c0, c1, c2, c3, c4, c5, c6, t)
}

fn @plasma(t: f32) -> Color {
    let c0 = all::make_color(0.05873234392399702,  0.02333670892565664, 0.5433401826748754, 1);
    let c1 = all::make_color(2.176514634195958,    0.2383834171260182,  0.7539604599784036, 1);
    let c2 = all::make_color(-2.689460476458034,  -7.455851135738909,   3.110799939717086 , 1);
    let c3 = all::make_color(6.130348345893603,   42.3461881477227,   -28.51885465332158  , 1);
    let c4 = all::make_color(-11.10743619062271, -82.66631109428045,   60.13984767418263  , 1);
    let c5 = all::make_color(10.02306557647065,   71.41361770095349,  -54.07218655560067  , 1);
    let c6 = all::make_color(-3.658713842777788, -22.93153465461149,   18.19190778539828  , 1);

    poly6(c0, c1, c2, c3, c4, c5, c6, t)
}

fn @magma(t: f32) -> Color {
    let c0 = all::make_color(-0.002136485053939582, -0.000749655052795221, -0.005386127855323933, 1);
    let c1 = all::make_color(0.2516605407371642,     0.6775232436837668,    2.494026599312351   , 1);
    let c2 = all::make_color(8.353717279216625,     -3.577719514958484,     0.3144679030132573  , 1);
    let c3 = all::make_color(-27.66873308576866,    14.26473078096533,    -13.64921318813922    , 1);
    let c4 = all::make_color(52.17613981234068,    -27.94360607168351,     12.94416944238394    , 1);
    let c5 = all::make_color(-50.76852536473588,    29.04658282127291,      4.23415299384598    , 1);
    let c6 = all::make_color(18.65570506591883,    -11.48977351997711,     -5.601961508734096   , 1);

    poly6(c0, c1, c2, c3, c4, c5, c6, t)
}

fn @inferno(t: f32) -> Color {
    let c0 = all::make_color(0.0002189403691192265, 0.001651004631001012, -0.01948089843709184, 1);
    let c1 = all::make_color(0.1065134194856116,    0.5639564367884091,    3.932712388889277  , 1);
    let c2 = all::make_color(11.60249308247187,    -3.972853965665698,   -15.9423941062914    , 1);
    let c3 = all::make_color(-41.70399613139459,   17.43639888205313,     44.35414519872813   , 1);
    let c4 = all::make_color(77.162935699427,     -33.40235894210092,    -81.80730925738993   , 1);
    let c5 = all::make_color(-71.31942824499214,   32.62606426397723,     73.20951985803202   , 1);
    let c6 = all::make_color(25.13112622477341,   -12.24266895238567,    -23.07032500287172   , 1);

    poly6(c0, c1, c2, c3, c4, c5, c6, t)
}

fn @palette(i: i32) = [ 
    all::make_color(0.450000, 0.376630, 0.112500, 1),
    all::make_color(0.112500, 0.450000, 0.405978, 1),
    all::make_color(0.112500, 0.450000, 0.229891, 1),
    all::make_color(0.450000, 0.112500, 0.376630, 1),
    all::make_color(0.435326, 0.450000, 0.112500, 1),
    all::make_color(0.112500, 0.141848, 0.450000, 1),
    all::make_color(0.435326, 0.112500, 0.450000, 1),
    all::make_color(0.112500, 0.450000, 0.141848, 1),
    all::make_color(0.347283, 0.450000, 0.112500, 1),
    all::make_color(0.450000, 0.112500, 0.200543, 1),
    all::make_color(0.112500, 0.229891, 0.450000, 1),
    all::make_color(0.450000, 0.288587, 0.112500, 1),
    all::make_color(0.347283, 0.112500, 0.450000, 1),
    all::make_color(0.450000, 0.112500, 0.288587, 1),
    all::make_color(0.450000, 0.112500, 0.112500, 1),
    all::make_color(0.450000, 0.200543, 0.112500, 1),
    all::make_color(0.171196, 0.450000, 0.112500, 1),
    all::make_color(0.112500, 0.450000, 0.317935, 1),
    all::make_color(0.259239, 0.450000, 0.112500, 1),
    all::make_color(0.259239, 0.112500, 0.450000, 1),
    all::make_color(0.112500, 0.405978, 0.450000, 1),
    all::make_color(0.171196, 0.112500, 0.450000, 1),
    all::make_color(0.112500, 0.317935, 0.450000, 1)
](i%23);
}