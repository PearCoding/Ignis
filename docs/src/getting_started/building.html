

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building &mdash; Ignis  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.min.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorials" href="tutorials/index.html" />
    <link rel="prev" title="Overview" href="start.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="../../index.html">
                Ignis
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="../../index.html">Docs</a></li>
        
      <li>Building</li>
    
    
      <li class="breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="../../search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="start.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="start.html#backends">Backends</a></li>
<li class="toctree-l2"><a class="reference internal" href="start.html#frontends">Frontends</a></li>
<li class="toctree-l2"><a class="reference internal" href="start.html#running">Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="start.html#tiny-tools">Tiny tools</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#linux-mac-os">Linux &amp; Mac OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/evalglare.html">Evalglare Tutorial</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Scene reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scene/file_format.html">File Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/file_format.html#transformation">Transformation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/pexpr.html">PExpr</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/pexpr.html#types">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/pexpr.html#variables">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/pexpr.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/externals.html">Externals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/externals.html#ignis-resource-file-ignis">Ignis resource file (<span class="monosp">ignis</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/externals.html#graphics-language-transmission-format-gltf-resource-file-gltf">Graphics Language Transmission Format “glTF” resource file (<span class="monosp">gltf</span>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/shapes.html">Shapes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#triangle-triangle">Triangle (<span class="monosp">triangle</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#rectangle-rectangle">Rectangle (<span class="monosp">rectangle</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#box-box">Box (<span class="monosp">box</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#ico-sphere-icosphere-sphere">Ico-Sphere (<span class="monosp">icosphere</span>, <span class="monosp">sphere</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#uv-sphere-uvsphere">UV-Sphere (<span class="monosp">uvsphere</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#cylinder-cylinder">Cylinder (<span class="monosp">cylinder</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#cone-cone">Cone (<span class="monosp">cone</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#disk-disk">Disk (<span class="monosp">disk</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#wavefront-object-format-obj">Wavefront Object Format (<span class="monosp">obj</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#polygon-file-format-ply">Polygon File Format (<span class="monosp">ply</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/shapes.html#mitsuba-serialized-format-mitsuba">Mitsuba Serialized Format (<span class="monosp">mitsuba</span>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/entities.html">Entities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scene/bsdfs.html">BSDFs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#smooth-diffuse-diffuse">Smooth diffuse (<span class="monosp">diffuse</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#rough-diffuse-roughdiffuse">Rough diffuse (<span class="monosp">roughdiffuse</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#smooth-dielectric-dielectric">Smooth dielectric (<span class="monosp">dielectric</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#rough-dielectric-roughdielectric">Rough dielectric (<span class="monosp">roughdielectric</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#perfect-smooth-mirror-mirror">Perfect smooth mirror (<span class="monosp">mirror</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#smooth-conductor-conductor">Smooth conductor (<span class="monosp">conductor</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#rough-conductor-roughconductor">Rough conductor (<span class="monosp">roughconductor</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#smooth-plastic-plastic">Smooth plastic (<span class="monosp">plastic</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#rough-plastic-roughplastic">Rough plastic (<span class="monosp">roughplastic</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#phong-phong">Phong (<span class="monosp">phong</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#disney-principled-principled">Disney <em>Principled</em> (<span class="monosp">principled</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#blend-blend">Blend (<span class="monosp">blend</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#mask-mask">Mask (<span class="monosp">mask</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#cutoff-cutoff">Cutoff (<span class="monosp">cutoff</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#passthrough-passthrough">Passthrough (<span class="monosp">passthrough</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#normal-mapping-normalmap">Normal mapping (<span class="monosp">normalmap</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#bump-mapping-bumpmap">Bump mapping (<span class="monosp">bumpmap</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#klems-klems">Klems (<span class="monosp">klems</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#tensortree-tensortree">TensorTree (<span class="monosp">tensortree</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/bsdfs.html#list-of-preset-conductors">List of preset conductors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/media.html">Media</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/media.html#homogeneous-homogeneous-constant">Homogeneous (<span class="monosp">homogeneous</span>, <span class="monosp">constant</span>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/lights.html">Lights</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#point-light-point">Point Light (<span class="monosp">point</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#spot-light-spot">Spot Light (<span class="monosp">spot</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#directional-light-directional">Directional Light (<span class="monosp">directional</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#area-light-area">Area Light (<span class="monosp">area</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#sun-light-sun">Sun Light (<span class="monosp">sun</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#sky-light-sky">Sky Light (<span class="monosp">sky</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#cie-uniform-sky-model-cie-uniform">CIE Uniform Sky Model (<span class="monosp">cie_uniform</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#cie-cloudy-sky-model-cie-cloudy">CIE Cloudy Sky Model (<span class="monosp">cie_cloudy</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#perez-sky-model-perez">Perez Sky Model (<span class="monosp">perez</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/lights.html#environment-light-env">Environment Light (<span class="monosp">env</span>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/textures.html">Textures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#image-texture-image">Image texture (<span class="monosp">image</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#brick-brick">Brick (<span class="monosp">brick</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#checkerboard-checkerboard">Checkerboard (<span class="monosp">checkerboard</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#noise-noise">Noise (<span class="monosp">noise</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#interpolated-noise-pnoise">Interpolated Noise (<span class="monosp">pnoise</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#cell-noise-cellnoise">Cell Noise (<span class="monosp">cellnoise</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#perlin-noise-perlin">Perlin Noise (<span class="monosp">perlin</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#voronoi-noise-voronoi">Voronoi Noise (<span class="monosp">voronoi</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#fractional-brownian-motion-fbm">Fractional Brownian Motion (<span class="monosp">fbm</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#expression-expr">Expression (<span class="monosp">expr</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/textures.html#texture-transform-transform">Texture transform (<span class="monosp">transform</span>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/cameras.html">Cameras</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/cameras.html#perspective-camera-perspective">Perspective Camera (<span class="monosp">perspective</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/cameras.html#orthogonal-camera-orthogonal">Orthogonal Camera (<span class="monosp">orthogonal</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/cameras.html#fisheye-camera-fisheye-fishlens">Fisheye Camera (<span class="monosp">fisheye</span>, <span class="monosp">fishlens</span>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scene/techniques.html">Techniques</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene/techniques.html#path-tracer-path">Path Tracer (<span class="monosp">path</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/techniques.html#volume-path-tracer-volpath">Volume Path Tracer (<span class="monosp">volpath</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/techniques.html#photonmapper-photonmapper">Photonmapper (<span class="monosp">photonmapper</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/techniques.html#ambient-occlusion-ao">Ambient Occlusion (<span class="monosp">ao</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/techniques.html#wireframe-wireframe">Wireframe (<span class="monosp">wireframe</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene/techniques.html#debug-debug">Debug (<span class="monosp">debug</span>)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python/overview.html">Overview</a></li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <section id="building">
<h1>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h1>
<p>The active development is done on a linux operating system (Ubuntu in particular).
The raytracer is platform independent to a large extend and works on Linux, Windows and Mac OS operating systems.</p>
<section id="linux-mac-os">
<h2>Linux &amp; Mac OS<a class="headerlink" href="#linux-mac-os" title="Permalink to this headline">¶</a></h2>
<p>A quick and dirty tutorial to show how to setup AnyDSL and Ignis on a typical Linux OS.
The following will need <code class="docutils literal notranslate"><span class="pre">ccmake</span></code>, but works also with <code class="docutils literal notranslate"><span class="pre">cmake-gui</span></code> or with plain <code class="docutils literal notranslate"><span class="pre">cmake</span></code> as well.</p>
<ol class="arabic simple">
<li><p>Clone AnyDSL from <a class="reference external" href="https://github.com/AnyDSL/anydsl">https://github.com/AnyDSL/anydsl</a></p>
<ol class="arabic simple">
<li><p>Copy the <code class="docutils literal notranslate"><span class="pre">config.sh.template</span></code> to <code class="docutils literal notranslate"><span class="pre">config.sh</span></code>.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">${BUILD_TYPE:=Debug}</span></code> to <code class="docutils literal notranslate"><span class="pre">:</span> <span class="pre">${BUILD_TYPE:=Release}</span></code> inside <code class="docutils literal notranslate"><span class="pre">config.sh</span></code></p></li>
<li><p>Optional: Use <code class="docutils literal notranslate"><span class="pre">ninja</span></code> instead of <code class="docutils literal notranslate"><span class="pre">make</span></code> as it is superior in all regards.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">./setup.sh</span></code> inside a terminal at the root directory and get a coffee.</p></li>
</ol>
</li>
<li><p>Clone Ignis from <a class="reference external" href="https://github.com/PearCoding/Ignis">https://github.com/PearCoding/Ignis</a></p>
<ol class="arabic simple">
<li><p>Make sure all the dependencies listed in official top <a class="reference external" href="https://github.com/PearCoding/Ignis/blob/master/README.md">README.md</a> are installed.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">build</span> <span class="pre">&amp;&amp;</span> <span class="pre">cd</span> <span class="pre">build</span> <span class="pre">&amp;&amp;</span> <span class="pre">cmake</span> <span class="pre">..</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">ccmake</span> <span class="pre">.</span></code> inside the <code class="docutils literal notranslate"><span class="pre">build/</span></code> directory.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">AnyDSL_runtime_DIR</span></code> to <code class="docutils literal notranslate"><span class="pre">ANYDSL_ROOT/runtime/build/share/anydsl/cmake</span></code>, with <code class="docutils literal notranslate"><span class="pre">ANYDSL_ROOT</span></code> being the path to the root of the AnyDSL framework.</p></li>
<li><p>Select the drivers you want to compile. All interesting options regarding Ignis start with <code class="docutils literal notranslate"><span class="pre">IG_</span></code></p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span> <span class="pre">.</span></code> inside the <code class="docutils literal notranslate"><span class="pre">build/</span></code> directory and get your second coffee.</p></li>
</ol>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">./bin/igview</span> <span class="pre">../scenes/diamond_scene.json</span></code> inside the <code class="docutils literal notranslate"><span class="pre">build/</span></code> directory to see if your setup works. This particular render requires the perspective camera and path tracer technique.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>MacOS CPU vectorization and GPU support is still very experimental and limited.</p>
</div>
</section>
<section id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<p>This mini tutorial is expecting some basic knowledge about CMake and the Windows build system based on Visual Studio. I highly recommend using the CMake Ninja generator in favour of the Visual Studio ones, as Visual Studio as an IDE itself has support for both.</p>
<ol class="arabic">
<li><p>Clone AnyDSL from <a class="reference external" href="https://github.com/AnyDSL/anydsl">https://github.com/AnyDSL/anydsl</a>. You have to use the <code class="docutils literal notranslate"><span class="pre">cmake-based-setup</span></code> branch.</p>
<ol class="arabic">
<li><p>Patch the repo according to the <a class="reference external" href="https://github.com/PearCoding/Ignis/blob/master/docs/AnyDSLWindows.patch">AnyDSLWindows.patch</a>:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gh">diff --git a/cmake/llvm-package.cmake b/cmake/llvm-package.cmake</span>
<span class="gh">index 958b914..3026bf3 100644</span>
<span class="gd">--- a/cmake/llvm-package.cmake</span>
<span class="gi">+++ b/cmake/llvm-package.cmake</span>
<span class="gu">@@ -1,6 +1,6 @@</span>
 
<span class="gd">-set(AnyDSL_PKG_LLVM_VERSION &quot;10.0.1&quot; CACHE STRING &quot;LLVM version of AnyDSL&quot;)</span>
<span class="gd">-set(AnyDSL_PKG_RV_TAG &quot;origin/release/10.x&quot; CACHE STRING &quot;LLVM is build with this git tag of RV&quot;)</span>
<span class="gi">+set(AnyDSL_PKG_LLVM_VERSION &quot;12.0.0&quot; CACHE STRING &quot;LLVM version of AnyDSL&quot;)</span>
<span class="gi">+set(AnyDSL_PKG_RV_TAG &quot;origin/release/12.x&quot; CACHE STRING &quot;LLVM is build with this git tag of RV&quot;)</span>
 
 set(AnyDSL_PKG_LLVM_URL &quot;https://github.com/llvm/llvm-project/releases/download/llvmorg-${AnyDSL_PKG_LLVM_VERSION}/llvm-project-${AnyDSL_PKG_LLVM_VERSION}.tar.xz&quot; CACHE STRING &quot;where to download LLVM&quot;)
 set(AnyDSL_PKG_RV_URL &quot;https://github.com/cdl-saarland/rv&quot; CACHE STRING &quot;where to clone RV&quot;)
</pre></div>
</div>
</li>
<li><p>Make sure all the necessary dependencies are installed. Especially zlib and potentially CUDA.</p></li>
<li><p>Create a new directory named <code class="docutils literal notranslate"><span class="pre">build</span></code></p></li>
<li><p>Open the command line interface in the newly created directory. Make sure the recent VC environment is available.</p></li>
<li><p>Use CMake and the following command line to configure the project. It is very likely that you have to change some paths.</p>
<p>Also make sure that the following snippet is written in a single line and, if necessary, the <code class="docutils literal notranslate"><span class="pre">\</span></code> in paths is properly escaped:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake</span>
<span class="go">    -DRUNTIME_JIT=ON</span>
<span class="go">    -DBUILD_SHARED_LIBS=ON</span>
<span class="go">    -DCMAKE_BUILD_TYPE=&quot;Release&quot;</span>
<span class="go">    -DAnyDSL_runtime_BUILD_SHARED=ON</span>
<span class="go">    -DAnyDSL_PKG_LLVM_AUTOBUILD=ON</span>
<span class="go">    -DAnyDSL_PKG_LLVM_VERSION=&quot;12.0.0&quot;</span>
<span class="go">    -DAnyDSL_PKG_RV_TAG=&quot;origin/release/12.x&quot;</span>
<span class="go">    -DAnyDSL_PKG_LLVM_URL=&quot;https://github.com/llvm/llvm-project/releases/download/llvmorg-12.0.0/llvm-project-12.0.0.src.tar.xz&quot;</span>
<span class="go">    -DTHORIN_PROFILE=OFF</span>
<span class="go">    -DBUILD_SHARED_LIBS=OFF</span>
<span class="go">    -DCUDAToolkit_NVVM_LIBRARY=&quot;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v11.6\\nvvm\\lib\\x64\\nvvm.lib&quot;</span>
<span class="go">    -DZLIB_LIBRARY=&quot;C:\\Development\\Dependencies\\zlib\\lib\\zlib.lib&quot;</span>
<span class="go">    -DZLIB_INCLUDE_DIR=&quot;C:\\Development\\Dependencies\\zlib\\include&quot;</span>
<span class="go">    ..</span>
</pre></div>
</div>
</li>
<li><p>If you get a similar cmake error like the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">CMake Error in build/_deps/rv-src/src/CMakeLists.txt:</span>
<span class="go">  Target &quot;RV&quot; INTERFACE_INCLUDE_DIRECTORIES property contains path:</span>

<span class="go">    &quot;C:/Development/Projects/AnyDSL/build/_deps/rv-src/include&quot;</span>

<span class="go">  which is prefixed in the build directory.</span>
</pre></div>
</div>
<p>Just ignore it. A file named <code class="docutils literal notranslate"><span class="pre">AnyDSL.sln</span></code> should still be created in the build folder. This might only be relevant for cmake configs with Visual Studio generators, however.</p>
</li>
<li><p>If you are using the Visual Studio generator, you can now use the generated <code class="docutils literal notranslate"><span class="pre">.sln</span></code> to compile the project. This will take some time. Make sure that you use the <code class="docutils literal notranslate"><span class="pre">Release</span></code> configuration.</p></li>
<li><p>For other IDEs use <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span> <span class="pre">..</span></code></p></li>
</ol>
</li>
<li><p>Clone Ignis from <a class="reference external" href="https://github.com/PearCoding/Ignis">https://github.com/PearCoding/Ignis</a>. This time the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch is fine.</p>
<ol class="arabic">
<li><p>Getting AnyDSL to work is the hardest part. Congrats if you made it so far. However, Ignis requires some dependencies and configurations to work with AnyDSL.</p></li>
<li><p>Make sure zlib, Intel oneAPI TBB and Eigen 3 are installed on your system. It is also recommended to install SDL2 to be able to use the viewer.</p></li>
<li><p>Create a new directory named <code class="docutils literal notranslate"><span class="pre">build</span></code></p></li>
<li><p>Open the command line interface in the newly created directory. Make sure the recent VC environment is available.</p></li>
<li><p>In the command line interface write the following and adapt it to your AnyDSL setup:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">set PATH=%PATH%;C:\Development\Projects\AnyDSL\build\_deps\llvm-build\Release\bin</span>
</pre></div>
</div>
</li>
<li><p>Use CMake and the following command line to configure the project. Make sure you use the <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> or <code class="docutils literal notranslate"><span class="pre">Ninja</span></code> generator, as the Visual Studio one is not working. It is very likely that you have to change some paths. Especially, adapt it to your AnyDSL setup.</p>
<p>Also make sure that the following snippet is written in a single line and, if necessary, the <code class="docutils literal notranslate"><span class="pre">\</span></code> in paths is properly escaped:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake</span>
<span class="go">    -DCMAKE_BUILD_TYPE=&quot;Release&quot;</span>
<span class="go">    -DClang_BIN=&quot;C:\\Development\\Projects\\AnyDSL\\build\\_deps\\llvm-build\\Release\\bin\\clang.exe&quot;</span>
<span class="go">    -DAnyDSL_runtime_DIR=&quot;C:\\Development\\Projects\\AnyDSL\\build\\share\\anydsl\\cmake&quot;</span>
<span class="go">    -DArtic_BINARY_DIR=&quot;C:\\Development\\Projects\\AnyDSL\\build\\bin\\Release&quot;</span>
<span class="go">    -DArtic_BIN=&quot;C:\\Development\\Projects\\AnyDSL\\build\\bin\\Release\\artic.exe&quot;</span>
<span class="go">    -DTBB_tbb_LIBRARY_RELEASE=&quot;C:\\Program Files (x86)\\Intel\\oneAPI\\tbb\\2021.1.1\\lib\\intel64\\vc_mt\\tbb12.lib&quot;</span>
<span class="go">    -DTBB_tbbmalloc_LIBRARY_RELEASE=&quot;C:\\Program Files (x86)\\Intel\\oneAPI\\tbb\\2021.1.1\\lib\\intel64\\vc_mt\\tbbmalloc.lib&quot;</span>
<span class="go">    -DTBB_INCLUDE_DIR=&quot;C:\\Program Files (x86)\\Intel\\oneAPI\\tbb\\2021.1.1\\include&quot;</span>
<span class="go">    -DZLIB_LIBRARY_RELEASE=&quot;C:\\Development\\Dependencies\\zlib\\lib\\zlib.lib&quot;</span>
<span class="go">    -DZLIB_INCLUDE_DIR=&quot;C:\\Development\\Dependencies\\zlib\\include&quot;</span>
<span class="go">    -DSDL2_LIBRARY=&quot;C:\\Development\\Dependencies\\SDL2\\lib\\x64\\SDL2.lib&quot;</span>
<span class="go">    -DSDL2_INCLUDE_DIR=&quot;C:\\Development\\Dependencies\\SDL2\\include&quot;</span>
<span class="go">    ..</span>
</pre></div>
</div>
<p>You can ignore the <code class="docutils literal notranslate"><span class="pre">SDL2</span></code> entries if you decide not to use <code class="docutils literal notranslate"><span class="pre">igview</span></code> or change the build type to <code class="docutils literal notranslate"><span class="pre">Debug</span></code> if necessary.</p>
</li>
<li><p>In contrary to the AnyDSL setup you can <strong>not</strong> use the newly generated <code class="docutils literal notranslate"><span class="pre">.sln</span></code> file directly. Use <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span> <span class="pre">.</span> <span class="pre">--config</span> <span class="pre">Release</span></code> or use Visual Studio with the CMake interface.</p></li>
<li><p>To run the frontends you might have to add multiple shared libraries (<code class="docutils literal notranslate"><span class="pre">*.dlls</span></code>) to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable or copy it next to the executables.
Currently the shared libraries <code class="docutils literal notranslate"><span class="pre">runtime.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">runtime_jit_artic.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">nvvm64.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">tbb.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">tbb_malloc.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">SDL2.dll</span></code>, <code class="docutils literal notranslate"><span class="pre">zlib.dll</span></code> are known to be required.
The list is not exhaustive however, as the final list of dependencies depends on the system, current state of development and other external factors.
If a module (e.g., <code class="docutils literal notranslate"><span class="pre">ig_driver_avx2.dll</span></code>) can not been found, but exists on the filesystem, a reason for the error might be a missing shared library.
Use one of the many dll dependency viewers available on Windows to find the exact missing dll and copy it next to the build executable or add it to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable.</p></li>
</ol>
</li>
</ol>
</section>
</section>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright 2020-2022, Ignis-Project.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.
        </div>
    </div>  

</body>
</html>